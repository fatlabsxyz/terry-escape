# Caddyfile for automatic HTTPS
# Replace yourdomain.com with your actual domain

yourdomain.com {
    # Frontend
    handle /* {
        reverse_proxy terry-escape:8000
    }
    
    # API and WebSocket
    handle /socket.io/* {
        reverse_proxy terry-escape:2448
    }
    
    handle /api/* {
        reverse_proxy terry-escape:2448
    }
}

# For testing without a domain
:80 {
    # Frontend
    handle /* {
        reverse_proxy terry-escape:8000
    }
    
    # API and WebSocket
    handle /socket.io/* {
        reverse_proxy terry-escape:2448
    }
    
    handle /api/* {
        reverse_proxy terry-escape:2448
    }
}